#include "xparameters.h"
#include "xuartps.h"

#define UART_DEVICE_ID XPAR_XUARTPS_0_DEVICE_ID

XUartPs Uart_Ps;

int main() {
    XUartPs_Config *Config;
    u8 ch;

    Config = XUartPs_LookupConfig(UART_DEVICE_ID);
    XUartPs_CfgInitialize(&Uart_Ps, Config, Config->BaseAddress);
    XUartPs_SetBaudRate(&Uart_Ps, 57600);

    while (1) {
        ch = XUartPs_RecvByte(Uart_Ps.Config.BaseAddress);
        XUartPs_SendByte(Uart_Ps.Config.BaseAddress, ch);
    }

    return 0;
}
